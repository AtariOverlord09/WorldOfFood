#1 [frontend internal] load .dockerignore
#1 transferring context: 2B done
#1 DONE 0.0s

#2 [frontend internal] load build definition from Dockerfile
#2 transferring dockerfile: 226B done
#2 DONE 0.0s

#3 [backend internal] load build definition from Dockerfile
#3 transferring dockerfile: 370B done
#3 DONE 0.0s

#4 [backend internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [frontend internal] load metadata for docker.io/library/node:13.12.0-alpine
#5 DONE 0.5s

#6 [frontend 1/6] FROM docker.io/library/node:13.12.0-alpine@sha256:cc85e728fab3827ada20a181ba280cae1f8b625f256e2c86b9094d9bfe834766
#6 DONE 0.0s

#7 [frontend internal] load build context
#7 transferring context: 9.06kB 0.0s done
#7 DONE 0.0s

#8 [backend internal] load metadata for docker.io/library/python:3.9
#8 DONE 0.6s

#9 [frontend 5/6] COPY . ./
#9 CACHED

#10 [frontend 3/6] COPY package*.json ./
#10 CACHED

#11 [frontend 4/6] RUN npm install
#11 CACHED

#12 [frontend 2/6] WORKDIR /app
#12 CACHED

#13 [frontend 6/6] RUN npm run build
#13 CACHED

#14 [backend 1/9] FROM docker.io/library/python:3.9@sha256:ba10a2af9d6c3bd0d20c46ecbf866dabcbad4e6a3dd7b82e2dfb1a9b6d479d87
#14 DONE 0.0s

#15 [frontend] exporting to image
#15 exporting layers done
#15 writing image sha256:a749d5b1d808b5674ffe893d2e183e80f9f101c5358fc36450cac0b6fb39f295 done
#15 naming to docker.io/library/foodgram-project-react-frontend done
#15 DONE 0.0s

#16 [backend internal] load build context
#16 transferring context: 2.21kB done
#16 DONE 0.0s

#17 [backend 2/9] RUN apt-get update &&    apt-get upgrade -y &&    apt-get install -y libpq-dev gcc netcat-traditional
#17 CACHED

#18 [backend 3/9] WORKDIR /app
#18 CACHED

#19 [backend 4/9] COPY requirements.txt .
#19 CACHED

#20 [backend 5/9] RUN pip install -r requirements.txt --no-cache-dir
#20 CACHED

#21 [backend 6/9] COPY . .
#21 DONE 0.2s

#22 [backend 7/9] RUN ls /app
#22 0.334 Dockerfile
#22 0.334 api
#22 0.334 core
#22 0.334 data
#22 0.334 entrypoint.sh
#22 0.334 foodgram
#22 0.334 manage.py
#22 0.334 recipes
#22 0.334 requirements.txt
#22 0.334 users
#22 DONE 0.4s

#23 [backend 8/9] COPY entrypoint.sh /entrypoint.sh
#23 DONE 0.1s

#24 [backend 9/9] RUN chmod +x /entrypoint.sh
#24 DONE 0.4s

#25 [backend] exporting to image
#25 exporting layers 0.2s done
#25 writing image sha256:3409db14871b1e52493205e78d7bc794b060a2cf8ce0ea1cff17243f9288f497 done
#25 naming to docker.io/library/foodgram-project-react-backend 0.0s done
#25 DONE 0.2s

#26 [nginx internal] load .dockerignore
#26 transferring context: 2B done
#26 DONE 0.0s

#27 [nginx internal] load build definition from Dockerfile
#27 transferring dockerfile: 113B done
#27 DONE 0.0s

#28 [nginx internal] load metadata for docker.io/library/nginx:1.22.1
#28 DONE 0.6s

#29 [nginx 1/2] FROM docker.io/library/nginx:1.22.1@sha256:fc5f5fb7574755c306aaf88456ebfbe0b006420a184d52b923d2f0197108f6b7
#29 DONE 0.0s

#30 [nginx internal] load build context
#30 transferring context: 32B done
#30 DONE 0.0s

#31 [nginx 2/2] COPY nginx.conf /etc/nginx/templates/default.conf.template
#31 CACHED

#32 [nginx] exporting to image
#32 exporting layers done
#32 writing image sha256:a9997b16c6df59a0ec841ae688c19f0ead1dace8af026f71f5f85fb965f76d6a done
#32 naming to docker.io/library/foodgram-project-react-nginx done
#32 DONE 0.0s
Attaching to foodgram-project-react-backend-1, foodgram-project-react-db-1, foodgram-project-react-frontend-1, foodgram-project-react-nginx-1
foodgram-project-react-db-1        | 
foodgram-project-react-db-1        | PostgreSQL Database directory appears to contain a database; Skipping initialization
foodgram-project-react-db-1        | 
foodgram-project-react-frontend-1 exited with code 0
foodgram-project-react-nginx-1     | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
foodgram-project-react-nginx-1     | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
foodgram-project-react-nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
foodgram-project-react-nginx-1     | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
foodgram-project-react-nginx-1     | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
foodgram-project-react-nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
foodgram-project-react-nginx-1     | 20-envsubst-on-templates.sh: Running envsubst on /etc/nginx/templates/default.conf.template to /etc/nginx/conf.d/default.conf
foodgram-project-react-nginx-1     | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
foodgram-project-react-nginx-1     | /docker-entrypoint.sh: Configuration complete; ready for start up
foodgram-project-react-backend-1   | Migrations for 'recipes':
foodgram-project-react-backend-1   |   recipes/migrations/0003_alter_ingredient_measurement_unit.py
foodgram-project-react-backend-1   |     - Alter field measurement_unit on ingredient
foodgram-project-react-nginx-1 exited with code 1
foodgram-project-react-backend-1   | Operations to perform:
foodgram-project-react-backend-1   |   Apply all migrations: admin, auth, authtoken, contenttypes, recipes, sessions, users
foodgram-project-react-backend-1   | Running migrations:
foodgram-project-react-backend-1   |   Applying recipes.0002_auto_20230720_1441...
foodgram-project-react-backend-1   | 165 static files copied to '/app/static'.
